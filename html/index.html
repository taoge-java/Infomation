<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/pintuer.css" />
		<script type="text/javascript" src="js/jquery.js" ></script>
		<script type="text/javascript" src="js/layer/layer.js"></script>
		<style>
		/**
			 * relative 相对于父容器，容器移走仍占位，
			 * absolute 相对于浏览器，容器移走不占位，
			 */
			.icon-plus,.icon-minus {cursor: pointer;}
		</style>
	    <script>
	    	$(function(){
	    		/**
	    		 * 添加行数
	    		 */
	    		$(".add").click(function(){
	    			var tr='<tr>'
	    			        +'<td><input type="text" name="goods_name"/></td>'+'<td><input type="text" name="price"/></td>'
	    			        +'<td><input type="text" name="number"/></td>'+'<td><input type="text" name="amount"/></td>'
	    			        +'<td><span class="icon-minus subtract"></span></td>'
	    			        +'</tr>';
	    			$(".table .sum").before(tr);
	    			subtract();
	    		});
	    		//金额校验
	    		$("input[name=price]").each(function(){
	    			$(this).keyup(function(){
	    				if(!checkNumber($(this).val())){
	    					layer.tips("金额非法",this);
	    				}
	    			});
	    			alert($(this).parent().prev().children().val());
                  alert($(this).parent().next().children().val());
	    		})
	    		//数量校验
	    		$("input[name=number]").each(function(){
	    			$(this).keyup(function(){
	    				if(!checkNumber($(this).val())){
	    					layer.tips("请输入整数",this);
	    				}
	    			})
	    		})
	    	});
	    	
	    	/**
	    	 * 减行
	    	 */
	    	function subtract(){
	    		$(".subtract").click(function(){
	    			$(this).parents("tr").remove();
	    		});
	    	}
	    	
	    	function checkNumber(value){
	    		return  /^([0-9]*)$/.test(value);
	    	}
	    </script>
	</head>
	<body>
	<div class="table-responsive">
	     <table id="dss" class="table">
			<tr>
				<th>货品名称</th>
				<th>单价</th>
				<th>数量</th>
				<th>金额</th>
				<th>操作</th>
			</tr>
			<tr>
				<td>
					<input type="text" value="dsds" name="goods_name"/>
				</td>
				<td>
					<input type="text" name="price"/>
				</td>
				<td>
					<input type="text" value="100" name="number"/>
				</td>
				<td>
					<input type="text" value="30" name="amount"/>
				</td>
				<td>
					<span class="icon-plus add"></span>
				</td>
			</tr>
			<tr>
				<td><input type="text" name="goods_name"/></td>
				<td><input type="text" name="price"/></td>
				<td><input type="text" value="120" name="number"/></td>
				<td>
					<input type="text" name="amount"/>
				</td>
				<td>
					<span class="icon-minus subtract"></span>
				</td>
			</tr>
			<tr>
				<td><input type="text" class="" name="goods_name"/></td>
				<td><input type="text" name="price"/></td>
				<td><input type="text" name="number"/></td>
				<td>
					<input type="text" name="amount"/>
				</td>
				<td>
					<span class="icon-minus subtract"></span>
				</td>
			</tr>
			
			<tr class="sum">
				<td>合计</td>
				<td><input type="text" name="number"/></td>
				<td><input type="text" name="amount_sum"/></td>
				<td><input type="text" name="amount_sum"/></td>
				<td>
				</td>
			</tr>
	    </table>
    </div>
	</body>
</html>
